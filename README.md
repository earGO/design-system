# URSiP design-system

В данном репозитории хранится корпоративная библиотека визуальных компонентов. Библиотека реализована через монорепозиторй. 

#### Скрипты и начало работы
- `yarn unit` - Запускает тесты по всем пакетам в режиме --watchAll.
- `yarn make-version` - запускает инструмент обновления версий. Запускаете, когда закончили работу с пакетом и готовите пулл-реквест. Повышает версии пакетов, пушит изменения в активную ветку удаленного репозитория, после чего заново устанавливает все зависимости для обновления связей между пакетами с учётом новых версий. Поддерживает дополнительные параметры - см. ниже "Контроль версий и пулл реквесты". 
- `yarn make-release` - то же, что и предыдущий, но дополнительно создаёт файлы changelog для каждого пакета из описаний каждого коммита (содержимое флага -m" ").
- `yarn status` - выводит в консоль статистику по монорепозиторию: версию каждого пакета, текущую ветку, наличие незакомиченных изменений
- `yarn clean` - удаляет все папки 'node_modules' во всех пакетах, приложениях, и корне монорепозитория. 
- `yarn remove-all` - удаляет зависимость, указанную в качестве параметра скрипта, из всех пакетов монорепозитория.
- `yarn prepare-icons` - создаёт компоненты иконок из SVG-файлов для возможности использования в других пакетах и для билда всей библиотеки компонентов. 

После установки репозитория для начала работы нужно выполнить `yarn` из корня для установки всех зависимостей. После этого нужно выполнить `yarn prepare-icons` для генерации иконок, чтобы другие пакеты могли их использовать из пакета icons 

#### Storybook и локальная разработка
У каждого из пакетов установлен и настроен свой Storybook. Для его запуска нужно из папки проекта выполнить `yarn storybook`. Перед вставкой в документацию компонент должен без ошибок вызываться в своём локальном Storybook. При изменении компонента, необходимо убедиться, что все его варианты в Storybook так же работают без ошибок. Все stories нужно складывать в папку stories в корне пакета (на одном уровне с его package.json) 

#### Тесты
Тесты каждого пакета хранятся в нём локально в папке __tests__ . 
  